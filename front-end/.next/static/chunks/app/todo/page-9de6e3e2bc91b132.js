(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[435],{2300:function(e,a,t){Promise.resolve().then(t.bind(t,9772))},9772:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return k}});var r=t(7437),o=t(2265),i=t(7170),n=t(2126);let l="https://todolist-update.onrender.com/todos",s=async e=>{try{return(await n.Z.post(l,e)).data}catch(e){throw console.error("Erro ao criar o Todo:",e),e}},d=async()=>{try{return(await n.Z.get(l)).data}catch(e){throw console.error("Erro ao listar os Todos:",e),e}},c=async e=>{try{return(await n.Z.put(l,e)).data}catch(e){throw console.error("Erro ao atualizar o Todo:",e),e}},u=async e=>{try{return(await n.Z.delete("".concat(l,"/").concat(e))).data}catch(e){throw console.error("Erro ao deletar o Todo:",e),e}};var h=t(7622),x=t(1326),p=t(343),v=t(6548),f=t(3983),j=t(3154);let g={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",borderRadius:5,pt:2,px:4,pb:3},m=[{title:"Alta",value:"ALTA"},{title:"M\xe9dia",value:"MEDIA"},{title:"Baixa",value:"BAIXA"}];function w(){let[e,a]=o.useState(!1),[t,i]=o.useState(""),[n,l]=o.useState(""),[d,c]=o.useState(null),[u,h]=o.useState(""),[w,y]=o.useState(!1),b=()=>{a(!1)},Z=async()=>{if(!d){console.error("Prioridade n\xe3o selecionada");return}let e={nome:t,descricao:n,realizado:w,prioridade:d.value,dataPrevista:u};try{await s(e),i(""),l(""),c(null),y(!1),h(""),b(),location.reload()}catch(e){console.error("Erro ao criar o Todo:",e)}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(v.Z,{onClick:()=>{a(!0)},children:"Criar Tarefa"}),(0,r.jsx)(p.Z,{open:e,onClose:b,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,r.jsxs)(x.Z,{sx:{...g,width:400,display:"flex",flexDirection:"column"},children:[(0,r.jsx)("h2",{id:"parent-modal-title",children:"Insira sua tarefa"}),(0,r.jsx)(f.Z,{id:"nome",label:"Nome",variant:"standard",value:t,onChange:e=>i(e.target.value)}),(0,r.jsx)(f.Z,{id:"descricao",label:"Descri\xe7\xe3o",variant:"standard",value:n,onChange:e=>l(e.target.value),sx:{mb:2}}),(0,r.jsx)(j.Z,{disablePortal:!0,id:"prioridade",options:m,getOptionLabel:e=>e.title,value:d,sx:{mb:2},onChange:(e,a)=>{c(a)},renderInput:e=>(0,r.jsx)(f.Z,{...e,label:"Prioridade"})}),(0,r.jsx)(f.Z,{id:"date",label:"Data prevista",sx:{mb:2},value:u,onChange:e=>h(e.target.value),InputLabelProps:{shrink:!0},variant:"standard"}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)("br",{}),(0,r.jsx)(v.Z,{onClick:Z,children:"Salvar"})]})})]})}var y=t(2419),b=t(7589),Z=t(1609),C=t(7143);function S(){let[e,a]=(0,o.useState)([]),t=async()=>{try{let e=await d();a(e)}catch(e){console.error("Erro ao buscar os todos:",e)}};(0,o.useEffect)(()=>{t()},[]);let n=async e=>{try{await u(e),t()}catch(e){console.error("Erro ao deletar o todo:",e)}},l=async e=>{try{let a={...e,realizado:!e.realizado};await c(a),t()}catch(e){console.error("Erro ao atualizar o todo:",e)}};return(0,r.jsx)("div",{style:{height:"60vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,r.jsxs)("div",{style:{height:400,width:"70%"},children:[(0,r.jsx)(w,{}),(0,r.jsx)(i._,{rows:e,columns:[{field:"nome",headerName:"Tarefas",width:200},{field:"descricao",headerName:"Descri\xe7\xe3o",width:200},{field:"dataPrevista",headerName:"Data",width:200},{field:"prioridade",headerName:"Prioridade",width:200},{field:"realizado",headerName:"Realizado",width:200,renderCell:e=>e.value?(0,r.jsx)(y.Z,{}):(0,r.jsx)(b.Z,{})},{field:"actions",headerName:"A\xe7\xf5es",description:"A\xe7\xf5es para o Todo",sortable:!1,width:400,renderCell:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{onClick:()=>n(e.row.id),style:{marginRight:16},color:"error",children:(0,r.jsx)(h.Z,{})}),(0,r.jsx)(v.Z,{onClick:()=>l(e.row),children:e.row.realizado?(0,r.jsx)(C.Z,{}):(0,r.jsx)(Z.Z,{})})]})}],getRowId:e=>e.id,initialState:{pagination:{paginationModel:{page:0,pageSize:5}}},pageSizeOptions:[5,10],checkboxSelection:!0})]})})}var E=t(511);function k(){let[e,a]=(0,o.useState)(new Date);return(0,o.useEffect)(()=>{let e=setInterval(()=>{a(new Date)},1e3);return()=>clearInterval(e)},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{height:"20vh",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,r.jsx)(E.Z,{variant:"h4",children:"Todo List"}),(0,r.jsxs)(E.Z,{variant:"h6",children:[e.toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"})," ",e.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})]})]}),(0,r.jsx)(S,{})]})}t(2534)}},function(e){e.O(0,[690,371,971,23,744],function(){return e(e.s=2300)}),_N_E=e.O()}]);